{"version":3,"sources":["webpack:///webpack/bootstrap 1ebf769a3e771fd1517c","webpack:///./src/index.js","webpack:///./src/core/rhytonThree.js","webpack:///./src/utils/is.js","webpack:///./src/utils/window.js","webpack:///./src/core/node.js","webpack:///./src/core/link.js"],"names":["window","RhytonThree","cfg","object","el","console","log","camera","cameraCfg","initScene","initCamera","initRenderer","initRaycaster","initEvent","initFloorPanel","nodes","links","offset","THREE","Vector3","controls","TrackballControls","rotateSpeed","zoomSpeed","panSpeed","noZoom","noPan","staticMoving","dynamicDampingFactor","axes","AxisHelper","scene","add","Scene","PerspectiveCamera","document","querySelector","clientWidth","clientHeight","fov","ratio","near","far","position","z","lookAt","webGLRenderer","WebGLRenderer","antialias","setSize","shadowMapEnabled","sortObjects","renderer","appendChild","domElement","raycaster","Raycaster","plane","Mesh","PlaneGeometry","MeshBasicMaterial","color","opacity","transparent","wireframe","visible","nodeInfo","node","group","push","remove","index","indexOf","splice","childeren","children","filter","v","i","type","forEach","linkInfo","link","mouse","Vector2","width","height","addEventListener","onDocumentMouseMove","bind","onDocumentMouseDown","onDocumentMouseUp","e","preventDefault","x","clientX","innerWidth","y","clientY","innerHeight","vector","unproject","sub","normalize","selected","intersects","intersectObject","length","copy","point","updateLinks","intersectObjects","parent","intersected","style","cursor","enabled","mv","b","project","halfWidth","halfHeight","result","Math","round","pos","nid","relLinks","arrGeo","sourceId","endId","geometry","vertices","source","end","verticesNeedUpdate","CylinderGeometry","Color","material","r","g","arrow","theta","angleTo","rotateZ","navigator","typeofstr","typeofobj","typeoffn","typeofhtmlele","HTMLElement","instanceStr","obj","instanceString","is","fn","defined","string","array","Array","isArray","plainObject","constructor","Object","number","isNaN","integer","floor","bool","htmlElement","undefined","elementOrCollection","element","collection","_private","single","core","stylesheet","event","thread","fabric","emptyString","match","nonemptyString","boundingBox","x1","x2","y1","y2","promise","then","touch","DocumentTouch","gecko","InstallTrigger","documentElement","webkit","webkitURL","chromium","chrome","khtml","vendor","khtmlEtc","ms","userAgent","windows","appVersion","mac","linux","unix","Node","texturePart","genTexturePart","img","spherePart","genSpherePart","genGroup","bindProperty","prop","locateNode","Object3D","texture","ImageUtils","loadTexture","mat","map","depthTest","SphereGeometry","PI","ball","Link","lineMat","genMat","lineWidth","genArrow","direction","genLine","Geometry","vertex1","vertex2","line","Line","Group","LineBasicMaterial"],"mappings":"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","file":"rhyton_three.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 1ebf769a3e771fd1517c","import RhytonThree from './core/rhytonThree.js'\r\n\r\nwindow.RhytonThree = RhytonThree;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import is from '../utils/is.js'\r\nimport Node from './node.js'\r\nimport Link from './link.js'\r\nclass RhytonThree {\r\n    constructor(cfg) {\r\n        if (is.object(cfg)) {\r\n            if (!cfg.el) {\r\n                console.log('未设置画布容器');\r\n                return\r\n            }\r\n            this.el = cfg.el;\r\n            if (is.object(cfg.camera)) {\r\n                this.cameraCfg = cfg.camera;\r\n            }\r\n            \r\n            this.initScene();\r\n            this.initCamera();\r\n            this.initRenderer();\r\n            this.initRaycaster();\r\n            this.initEvent();\r\n            this.initFloorPanel();\r\n            this.nodes = [];\r\n            this.links = [];\r\n            this.offset = new THREE.Vector3();\r\n            this.controls = new THREE.TrackballControls( this.camera );\r\n            //旋转速度\r\n            this.controls.rotateSpeed = 1.0;\r\n            //变焦速度\r\n            this.controls.zoomSpeed = 1.2;\r\n            //平移速度\r\n            this.controls.panSpeed = 0.8;\r\n            //是否不变焦\r\n            this.controls.noZoom = false;\r\n            //是否不平移\r\n            this.controls.noPan = true;\r\n            //可能是惯性 true没有惯性\r\n            this.controls.staticMoving = false;\r\n            //动态阻尼系数 就是灵敏度\r\n            this.controls.dynamicDampingFactor = 0.3;\r\n            var axes = new THREE.AxisHelper(100);\r\n            this.scene.add(axes);\r\n        } else {\r\n            console.log('没有配置项');\r\n        }\r\n    }\r\n    //初始化场景\r\n    initScene() {\r\n        this.scene = new THREE.Scene();\r\n        // this.scene.background = new THREE.Color( 0xf0fff0 );\r\n    }\r\n    //初始化相机\r\n    initCamera() {\r\n        if (!is.object(this.cameraCfg)) {\r\n            this.camera = new THREE.PerspectiveCamera(70, document.querySelector(this.el).clientWidth / document.querySelector(this.el).clientHeight, 1, 10000);\r\n        } else {\r\n            var fov = this.cameraCfg.fov ? this.cameraCfg.fov : 70,\r\n                ratio = this.cameraCfg.ratio ? this.cameraCfg.ratio : document.querySelector(this.el).clientWidth / document.querySelector(this.el).clientHeight,\r\n                near = this.cameraCfg.near ? this.cameraCfg.near : 1,\r\n                far = this.cameraCfg.far ? this.cameraCfg.far : 10000;\r\n            this.camera = new THREE.PerspectiveCamera(fov, ratio, near, far);\r\n        }\r\n        this.camera.position.z = 100;\r\n        this.camera.lookAt(new THREE.Vector3(0, 0, 0));\r\n    }\r\n    //初始化渲染器\r\n    initRenderer() {\r\n        var webGLRenderer = new THREE.WebGLRenderer({ antialias: true });\r\n        // webGLRenderer.setClearColor(new THREE.Color(0xEEEEEE, 1.0));\r\n        webGLRenderer.setSize(document.querySelector(this.el).clientWidth, document.querySelector(this.el).clientHeight);\r\n        webGLRenderer.shadowMapEnabled = true;\r\n        webGLRenderer.sortObjects = false;\r\n        this.renderer = webGLRenderer;\r\n        document.querySelector(this.el).appendChild(webGLRenderer.domElement);\r\n    }\r\n    //初始化raycaster\r\n    initRaycaster() {\r\n        this.raycaster = new THREE.Raycaster();\r\n    }\r\n    initFloorPanel() {\r\n        var plane = new THREE.Mesh(new THREE.PlaneGeometry(2000, 2000, 8, 8), \r\n                                   new THREE.MeshBasicMaterial({ color: 0x000000, opacity: 0.25, transparent: true, wireframe: true }));\r\n        plane.visible = true;\r\n        this.plane = plane;\r\n        this.scene.add(plane);\r\n    }\r\n    addNode(nodeInfo) {\r\n        var node = new Node(nodeInfo).group;\r\n        this.scene.add(node);\r\n        this.nodes.push(node);\r\n    }\r\n    removeNode(node) {\r\n        this.scene.remove(node);\r\n        var index = this.nodes.indexOf(node);\r\n        this.nodes.splice(index, 1);\r\n    }\r\n    removeAllNodes() {\r\n        var childeren = this.scene.children.filter((v, i) => {\r\n            return v.type === 'Group';\r\n        });\r\n        children.forEach((v, i) => {\r\n            this.scene.remove(v)\r\n        })\r\n    }\r\n    addLink(linkInfo) {\r\n        var link = new Link(linkInfo).link;\r\n        this.scene.add(link);\r\n        this.links.push(link);\r\n    }\r\n    removeLink(link) {\r\n        this.scene.remove(link);\r\n        var index = this.links.indexOf(link);\r\n        this.links.splice(index, 1);\r\n    }\r\n    removeAllLinks() {\r\n        var childeren = this.scene.children.filter((v, i) => {\r\n            return v.type === 'link';\r\n        });\r\n        children.forEach((v, i) => {\r\n            this.scene.remove(v)\r\n        })\r\n    }\r\n    initEvent() {\r\n        this.mouse = new THREE.Vector2();\r\n        this.width = document.querySelector(this.el).clientWidth;\r\n        this.height = document.querySelector(this.el).clientHeight;\r\n        this.renderer.domElement.addEventListener('mousemove', this.onDocumentMouseMove.bind(this), false);\r\n        this.renderer.domElement.addEventListener('mousedown', this.onDocumentMouseDown.bind(this), false);\r\n        this.renderer.domElement.addEventListener('mouseup', this.onDocumentMouseUp.bind(this), false);\r\n    }\r\n    onDocumentMouseMove(e) {\r\n        //阻止本来的默认事件，比如浏览器的默认右键事件是弹出浏览器的选项\r\n        e.preventDefault();\r\n\r\n        //mouse.x是指 鼠标的x到屏幕y轴的距离与屏幕宽的一半的比值 绝对值不超过1\r\n        //mouse.y是指 鼠标的y到屏幕x轴的距离与屏幕宽的一半的比值 绝对值不超过1\r\n        //\r\n        //下面的矩形是显示器屏幕，三维空间坐标系的布局以及屏幕的二维坐标系\r\n        //\r\n        // 鼠标是从  二维坐标系\r\n        // 这个点 .-------------------------------------------|-->鼠标x正半轴\r\n        //  开始算|                   个 y     /              |\r\n        //   x,y  |                    |     /                |\r\n        //        |                    |   /                  |\r\n        //        |          三维坐标系| /                    |\r\n        //        | -------------------/-------------------->x|\r\n        //        |                  / |                      |\r\n        //        |                /   |                      |\r\n        //        |              /     |                      |\r\n        //        |__________Z_匕______|______________________|\r\n        //        |\r\n        // 鼠标y  \\/\r\n        // 正半轴\r\n        var mouse = this.mouse,\r\n            camera = this.camera,\r\n            plane = this.plane,\r\n            offset = this.offset;\r\n        mouse.x = (e.clientX / window.innerWidth) * 2 - 1;\r\n        mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;\r\n\r\n        //新建一个三维变换半单位向量 假设z方向就是0.5,这样我左右移的时候，还会有前后移的效果\r\n        var vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);\r\n\r\n        //屏幕和场景转换工具根据照相机，把这个向量从屏幕转化为场景中的向量\r\n        // projector.unprojectVector( vector, camera );\r\n        vector.unproject(camera);\r\n        //vector.sub( camera.position ).normalize()变换过后的向量vector减去相机的位置向量后标准化\r\n        //新建一条从相机的位置到vector向量的一道光线\r\n        var raycaster = new THREE.Raycaster(camera.position, vector.sub(camera.position).normalize());\r\n\r\n        //是否有东西被选中\r\n        if (this.selected) {\r\n            //有的话取到这条光线射到的物体所在水平面上所有相交元素的集合,所以这样就可以限制每次拖动距离不能超出水平面panel\r\n            var intersects = raycaster.intersectObject(plane);\r\n            //这个鼠标点中的点的位置减去偏移向量，新位置赋值给选中物体\r\n            if (intersects.length > 0) {\r\n                this.selected.position.copy(intersects[0].point.sub(offset));\r\n            }\r\n            this.updateLinks();\r\n            return;\r\n\r\n        }\r\n\r\n        //否则的话，光线和所有物体相交，返回相交的物体\r\n        var intersects = raycaster.intersectObjects(this.nodes,true);\r\n        //如果有物体相交了\r\n        if (intersects.length > 0&&intersects[0].object.parent['_type'] === 'node') {\r\n            //并且相交物体不是上一个相交物体\r\n            if (this.intersected != intersects[0].object.parent) {\r\n                //将这个对象放到INTERSECTED中\r\n                this.intersected = intersects[0].object.parent;\r\n                //改变水平面的位置\r\n                plane.position.copy(this.intersected.position);\r\n                //并把水平面指向到相机的方向\r\n                plane.lookAt(camera.position);\r\n\r\n            }\r\n            //改变鼠标的样式\r\n            document.querySelector(this.el).style.cursor = 'pointer';\r\n\r\n        } else {\r\n            //改变鼠标的样式\r\n            document.querySelector(this.el).style.cursor = 'auto';\r\n\r\n        }\r\n\r\n    }\r\n    onDocumentMouseDown(e) {\r\n        //阻止本来的默认事件，比如浏览器的默认右键事件是弹出浏览器的选项\r\n        e.preventDefault();\r\n        var mouse = this.mouse,\r\n            camera = this.camera,\r\n            plane = this.plane,\r\n            offset = this.offset;\r\n        var vector = new THREE.Vector3(mouse.x, mouse.y, 0.5);\r\n        // projector.unprojectVector( vector, camera );\r\n        vector.unproject(camera);\r\n\r\n        var raycaster = new THREE.Raycaster(camera.position, vector.sub(camera.position).normalize());\r\n\r\n        var intersects = raycaster.intersectObjects(this.nodes,true);\r\n\r\n        if (intersects.length > 0&& intersects[0].object.parent['_type'] === 'node') {\r\n            //不能改变视角了\r\n            this.controls.enabled = false;\r\n            //把选中的对象放到全局变量SELECTED中\r\n            this.selected = intersects[0].object.parent;\r\n            //再和水平面相交\r\n            var intersects = raycaster.intersectObject(plane);\r\n\r\n            //选中位置和水平面位置（物体中心）的偏移量\r\n            offset.copy(intersects[0].point).sub(plane.position);\r\n            //改变鼠标的样式\r\n            document.querySelector(this.el).style.cursor = 'move';\r\n\r\n        }\r\n    }\r\n    onDocumentMouseUp(e) {\r\n        e.preventDefault();\r\n        //又能改变视角了\r\n        this.controls.enabled = true;\r\n        //如果有相交物体\r\n        if (this.intersected) {\r\n            //把位置给水平面\r\n            this.plane.position.copy(this.intersected.position);\r\n            //选中物体置空\r\n            this.selected = null;\r\n\r\n        }\r\n        //改变鼠标的样式\r\n        document.querySelector(this.el).style.cursor = 'auto';\r\n    }\r\n    _convertTo3DCoordinate(clientX, clientY) {\r\n        var mv = new THREE.Vector3(\r\n            (clientX / window.innerWidth) * 2 - 1,\r\n            -(clientY / window.innerHeight) * 2 + 1,\r\n            0.5);\r\n        mv.unproject(this.camera);\r\n        return mv;\r\n    }\r\n    _worldToPage(x, y, z) {\r\n        var b = new THREE.Vector3(x, y, z).project(this.camera)\r\n        var halfWidth = window.innerWidth / 2;\r\n        var halfHeight = window.innerHeight / 2;\r\n\r\n        var result = {\r\n\r\n            x: Math.round(b.x * halfWidth + halfWidth),\r\n            y: Math.round(-b.y * halfHeight + halfHeight)\r\n\r\n        };\r\n        return result;\r\n    }\r\n    updateLinks(){\r\n        var links = this.links,\r\n            selected = this.selected,\r\n            pos = this.selected.position,\r\n            nid = this.selected.nid,\r\n            relLinks,\r\n            arrGeo;\r\n        relLinks = links.filter((v,i)=>{\r\n            return (v.sourceId == nid || v.endId == nid)\r\n        })\r\n        relLinks.forEach((v,i)=>{\r\n            if(v.sourceId == nid){\r\n                v.children[0].geometry.vertices[0] = new THREE.Vector3(selected.position.x,selected.position.y,selected.position.z);\r\n                v.source = {\r\n                    x: pos.x,\r\n                    y: pos.y,\r\n                    z: pos.z\r\n                }\r\n            }else {\r\n                v.children[0].geometry.vertices[1] = new THREE.Vector3(selected.position.x,selected.position.y,selected.position.z);\r\n                v.end = {\r\n                    x: pos.x,\r\n                    y: pos.y,\r\n                    z: pos.z\r\n                }\r\n            }\r\n            v.children[0].geometry.verticesNeedUpdate = true;\r\n            var source = v.source,\r\n                end = v.end;\r\n            switch(v['_direction']){\r\n                case 'positive':\r\n                    arrGeo = new THREE.CylinderGeometry(0,0.5,2);\r\n                    var color = new THREE.Color(v.children[0].material.color.r,v.children[0].material.color.g,v.children[0].material.color.b);\r\n                    var material = new THREE.MeshBasicMaterial( {color} );\r\n                    v.remove(v.children[1]);\r\n                    var arrow = new THREE.Mesh( arrGeo, material );\r\n                    arrow.position.x = source.x-(source.x-end.x)*2/4;\r\n                    arrow.position.y = source.y-(source.y-end.y)*2/4;\r\n                    arrow.position.z = source.z-(source.z-end.z)*2/4;\r\n\r\n                    var theta = new THREE.Vector3(-(source.x-end.x),-(source.y-end.y),0).angleTo(new THREE.Vector3(0,1,0));\r\n                    if(end.x>source.x){\r\n                        arrow.rotateZ(-theta);\r\n                    }else {\r\n                        arrow.rotateZ(theta);\r\n                    }\r\n                    \r\n        \r\n                    /* var beta = new THREE.Vector3(0,-(source.y-end.y),-(source.z-end.z)).angleTo(new THREE.Vector3(0,1,0));\r\n                    if(end.y>source.y){\r\n                        arrow.rotateX(-beta);\r\n                    }else {\r\n                        arrow.rotateX(beta);\r\n                    } */\r\n                    \r\n                    v.add(arrow);\r\n                    \r\n                    break;\r\n                case 'negative':\r\n                    arrGeo = new THREE.CylinderGeometry(0.5,0,2);\r\n                    var color = new THREE.Color(v.children[0].material.color.r,v.children[0].material.color.g,v.children[0].material.color.b);\r\n                    var material = new THREE.MeshBasicMaterial( {color} );\r\n                    v.children[1] = new THREE.Mesh( arrGeo, material );\r\n                    break;\r\n            }\r\n\r\n        })\r\n    }\r\n}\r\n\r\nexport default RhytonThree\n\n\n// WEBPACK FOOTER //\n// ./src/core/rhytonThree.js","/*global HTMLElement DocumentTouch */\n\nimport window from './window' \nlet navigator = window ? window.navigator : null;\nlet document = window ? window.document : null;\n\nlet typeofstr = typeof '';\nlet typeofobj = typeof {};\nlet typeoffn = typeof function(){};\nlet typeofhtmlele = typeof HTMLElement;\n\nlet instanceStr = function( obj ){\n  return obj && obj.instanceString && is.fn( obj.instanceString ) ? obj.instanceString() : null;\n};\n\nlet is = {\n  defined: function( obj ){\n    return obj != null; // not undefined or null\n  },\n\n  string: function( obj ){\n    return obj != null && typeof obj == typeofstr;\n  },\n\n  fn: function( obj ){\n    return obj != null && typeof obj === typeoffn;\n  },\n\n  array: function( obj ){\n    return Array.isArray ? Array.isArray( obj ) : obj != null && obj instanceof Array;\n  },\n\n  plainObject: function( obj ){\n    return obj != null && typeof obj === typeofobj && !is.array( obj ) && obj.constructor === Object;\n  },\n\n  object: function( obj ){\n    return obj != null && typeof obj === typeofobj;\n  },\n\n  number: function( obj ){\n    return obj != null && typeof obj === typeof 1 && !isNaN( obj );\n  },\n\n  integer: function( obj ){\n    return is.number( obj ) && Math.floor( obj ) === obj;\n  },\n\n  bool: function( obj ){\n    return obj != null && typeof obj === typeof true;\n  },\n\n  htmlElement: function( obj ){\n    if( 'undefined' === typeofhtmlele ){\n      return undefined;\n    } else {\n      return null != obj && obj instanceof HTMLElement;\n    }\n  },\n\n  elementOrCollection: function( obj ){\n    return is.element( obj ) || is.collection( obj );\n  },\n\n  element: function( obj ){\n    return instanceStr( obj ) === 'collection' && obj._private.single;\n  },\n\n  collection: function( obj ){\n    return instanceStr( obj ) === 'collection' && !obj._private.single;\n  },\n\n  core: function( obj ){\n    return instanceStr( obj ) === 'core';\n  },\n\n  style: function( obj ){\n    return instanceStr( obj ) === 'style';\n  },\n\n  stylesheet: function( obj ){\n    return instanceStr( obj ) === 'stylesheet';\n  },\n\n  event: function( obj ){\n    return instanceStr( obj ) === 'event';\n  },\n\n  thread: function( obj ){\n    return instanceStr( obj ) === 'thread';\n  },\n\n  fabric: function( obj ){\n    return instanceStr( obj ) === 'fabric';\n  },\n\n  emptyString: function( obj ){\n    if( obj === undefined || obj === null ){ // null is empty\n      return true;\n    } else if( obj === '' || obj.match( /^\\s+$/ ) ){\n      return true; // empty string is empty\n    }\n\n    return false; // otherwise, we don't know what we've got\n  },\n\n  nonemptyString: function( obj ){\n    if( obj && is.string( obj ) && obj !== '' && !obj.match( /^\\s+$/ ) ){\n      return true;\n    }\n\n    return false;\n  },\n\n  domElement: function( obj ){\n    if( typeof HTMLElement === 'undefined' ){\n      return false; // we're not in a browser so it doesn't matter\n    } else {\n      return obj instanceof HTMLElement;\n    }\n  },\n\n  boundingBox: function( obj ){\n    return is.plainObject( obj ) &&\n      is.number( obj.x1 ) && is.number( obj.x2 ) &&\n      is.number( obj.y1 ) && is.number( obj.y2 )\n    ;\n  },\n\n  promise: function( obj ){\n    return is.object( obj ) && is.fn( obj.then );\n  },\n\n  touch: function(){\n    return window && ( ('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch );\n  },\n\n  gecko: function(){\n    return window && ( typeof InstallTrigger !== 'undefined' || ('MozAppearance' in document.documentElement.style) );\n  },\n\n  webkit: function(){\n    return window && ( typeof webkitURL !== 'undefined' || ('WebkitAppearance' in document.documentElement.style) );\n  },\n\n  chromium: function(){\n    return window && ( typeof chrome !== 'undefined' );\n  },\n\n  khtml: function(){\n    return navigator && navigator.vendor.match( /kde/i ); // probably a better way to detect this...\n  },\n\n  khtmlEtc: function(){\n    return is.khtml() || is.webkit() || is.chromium();\n  },\n\n  ms: function(){\n    return navigator && navigator.userAgent.match( /msie|trident|edge/i ); // probably a better way to detect this...\n  },\n\n  windows: function(){\n    return navigator && navigator.appVersion.match( /Win/i );\n  },\n\n  mac: function(){\n    return navigator && navigator.appVersion.match( /Mac/i );\n  },\n\n  linux: function(){\n    return navigator && navigator.appVersion.match( /Linux/i );\n  },\n\n  unix: function(){\n    return navigator && navigator.appVersion.match( /X11/i );\n  }\n};\n\nexport default is\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/is.js","export default ( typeof window === 'undefined' ? null : window ); // eslint-disable-line no-undef\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/window.js","class Node{\r\n    constructor(nodeInfo){\r\n        var texturePart = this.genTexturePart(nodeInfo.img),\r\n            spherePart = this.genSpherePart(nodeInfo.color),\r\n            group = this.genGroup(texturePart,spherePart);\r\n        this.group = group;\r\n        this.group['_type']='node';\r\n        this.group.nid = nodeInfo.nid;\r\n        this.bindProperty(nodeInfo.prop);\r\n        this.locateNode(nodeInfo.pos);\r\n    }\r\n    genGroup(texturePart,spherePart){\r\n        var group = new THREE.Object3D();\r\n        group.add( texturePart );\r\n        group.add( spherePart );\r\n        return group;\r\n    }\r\n    genTexturePart(img){\r\n        var texture = THREE.ImageUtils.loadTexture(img),\r\n            mat = new THREE.MeshBasicMaterial( {\r\n                map: texture,\r\n                transparent: true,\r\n                depthTest: false\r\n            } ),\r\n            geometry = new THREE.SphereGeometry( 5, 32, 32,0,Math.PI*0.6,0.2*Math.PI, 0.5*Math.PI),\r\n            texturePart = new THREE.Mesh( geometry, mat );\r\n        return texturePart;\r\n    }\r\n    genSpherePart(color){\r\n        var ball = new THREE.SphereGeometry( 5, 32, 32),\r\n            material = new THREE.MeshBasicMaterial( {color} ),\r\n            spherePart = new THREE.Mesh(ball, material);\r\n        return spherePart;\r\n    }\r\n    bindProperty(prop){\r\n        this.group['_prop']=prop;\r\n    }\r\n    locateNode(pos){\r\n        this.group.position.x = pos.x;\r\n        this.group.position.y = pos.y;\r\n        this.group.position.z = pos.z;\r\n    }\r\n}\r\nexport default Node\n\n\n// WEBPACK FOOTER //\n// ./src/core/node.js","class Link{\r\n    constructor(linkInfo){\r\n        var lineMat = this.genMat(linkInfo.color,linkInfo.opacity,linkInfo.lineWidth),\r\n            arrow = this.genArrow(linkInfo.direction,linkInfo.color),\r\n            link = this.genLine(linkInfo.source,linkInfo.end,lineMat,arrow);\r\n        this.link = link;\r\n        this.link['_type']='link';\r\n        this.link['_direction'] = linkInfo.direction;\r\n        this.link.source = linkInfo.source;\r\n        this.link.end = linkInfo.end;\r\n    }\r\n    genLine(source,end,material,arrow){\r\n        var geometry = new THREE.Geometry();\r\n        var vertex1 = new THREE.Vector3(source.x,source.y,source.z);\r\n        var vertex2 = new THREE.Vector3(end.x,end.y,end.z);\r\n        geometry.vertices.push(vertex1);\r\n        geometry.vertices.push(vertex2);\r\n\r\n        var line = new THREE.Line(geometry,material);\r\n        var group = new THREE.Group();\r\n        group.add(line);\r\n        if(arrow){\r\n            arrow.position.x = source.x-(source.x-end.x)*2/4;\r\n            arrow.position.y = source.y-(source.y-end.y)*2/4;\r\n            arrow.position.z = source.z-(source.z-end.z)*2/4;\r\n            var theta = new THREE.Vector3(-(source.x-end.x),-(source.y-end.y),0).angleTo(new THREE.Vector3(0,1,0));\r\n            if(end.x>source.x){\r\n                arrow.rotateZ(-theta);\r\n            }else {\r\n                arrow.rotateZ(theta);\r\n            }\r\n\r\n            // var beta = new THREE.Vector3(0,-(source.y-end.y),-(source.z-end.z)).angleTo(new THREE.Vector3(0,1,0));\r\n            // arrow.rotateX(-beta);\r\n            // arrow.lookAt(new THREE.Vector3(-source.x+end.x,-(source.y-end.y),-(source.z-end.z)))\r\n            group.add(arrow);\r\n        }\r\n        group.sourceId = source.nid;\r\n        group.endId = end.nid;\r\n        return group;\r\n    }\r\n    genMat(color,opacity,lineWidth){\r\n        return new THREE.LineBasicMaterial({color,opacity,lineWidth});\r\n    }\r\n    genArrow(direction,color){\r\n        var arrGeo;\r\n        switch (direction) {\r\n            case 'positive': \r\n                arrGeo = new THREE.CylinderGeometry(0,0.5,2);\r\n                break;\r\n            case 'negative': \r\n                arrGeo = new THREE.CylinderGeometry(0.5,0,2);\r\n                break;\r\n            case 'both':\r\n                return null\r\n        }\r\n        var material = new THREE.MeshBasicMaterial( {color} );\r\n        return new THREE.Mesh( arrGeo, material );\r\n    }\r\n}\r\nexport default Link\n\n\n// WEBPACK FOOTER //\n// ./src/core/link.js"],"sourceRoot":""}